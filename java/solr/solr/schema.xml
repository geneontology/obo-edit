<?xml version="1.0" encoding="UTF-8" ?>

<schema name="golr" version="1.2">

  <types>
    <!-- Used to be in string: omitNorms="true"/> -->
    <fieldType name="string"
	       class="solr.StrField"
	       sortMissingLast="true"/>
    <fieldType name="integer"
	       class="solr.IntField"/>
    <fieldType name="text_ws"
	       class="solr.TextField"
	       positionIncrementGap="100">   
      <analyzer>
        <tokenizer class="solr.WhitespaceTokenizerFactory"/>
      </analyzer>
    </fieldType>
  </types>

  <fields>
   <!-- Required for both (acc|dbxref). -->
   <field name="acc"
	  type="string"
	  indexed="true"
	  stored="true"
	  required="true" />
   <!-- Required for flattening (term|gene_product). -->
   <field name="domain"
	  type="string"
	  indexed="true"
	  stored="true"
	  required="true" />
   <!-- Optional: for both. -->
   <field name="name"
	  type="text_ws"
	  indexed="true"
	  stored="true"
	  required="false" />
   <!-- Optional: for terms. -->
   <field name="term_type"
	  type="string"
	  indexed="true"
	  stored="true"
	  required="false" />
   <field name="is_obsolete"
	  type="integer"
	  indexed="true"
	  stored="true"
	  required="false" />
   <field name="term_synonym"
	  type="string"
	  indexed="true"
	  stored="true"
	  multiValued="true"
	  required="false" />
   <field name="acc_synonym"
	  type="string"
	  indexed="true"
	  stored="true"
	  multiValued="true"
	  required="false" />
   <field name="term_definition"
	  type="text_ws"
	  indexed="true"
	  stored="true"
	  required="false" />
   <field name="term_comment"
	  type="text_ws"
	  indexed="true"
	  stored="true"
	  required="false" />
   <!-- Optional: for gene products. -->
   <field name="symbol"
	  type="string"
	  indexed="true"
	  stored="true"
	  required="false" />
   <!-- <field name="full_name" -->
   <!-- 	  type="text_ws" -->
   <!-- 	  indexed="true" -->
   <!-- 	  stored="true" -->
   <!-- 	  required="false" /> -->
   <field name="ncbi_taxa_id"
	  type="string"
	  indexed="true"
	  stored="true"
	  required="false" />
   <field name="type_name"
	  type="string"
	  indexed="true"
	  stored="true"
	  required="false" />
   <field name="type_acc"
	  type="string"
	  indexed="true"
	  stored="true"
	  required="false" />
   <field name="gene_product_synonym"
	  type="text_ws"
	  indexed="true"
	  stored="true"
	  multiValued="true"
	  required="false" />
   <field name="associated_term"
	  type="text_ws"
	  indexed="true"
	  stored="true"
	  multiValued="true"
	  required="false" />
  </fields>

  <uniqueKey>acc</uniqueKey>

  <defaultSearchField>name</defaultSearchField>

  <solrQueryParser defaultOperator="OR"/>

</schema>
