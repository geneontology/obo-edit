<?xml version="1.0" encoding="UTF-8" ?>

<schema name="golr" version="1.2">

  <types>
    <!-- Used to be in string: omitNorms="true"/> -->
    <fieldType name="string"
	       class="solr.StrField"
	       sortMissingLast="true"/>
    <fieldType name="integer"
	       class="solr.IntField"/>
    <fieldType name="text_ws"
	       class="solr.TextField"
	       positionIncrementGap="100">   
      <analyzer>
        <tokenizer class="solr.WhitespaceTokenizerFactory"/>
      </analyzer>
    </fieldType>
  </types>

  <fields>
    <!-- Both. (acc|dbxref) -->
    <field name="id"
	   type="string"
	   indexed="true"
	   stored="true"
	   required="true" />
    <!-- Both (term.name|gp.symbol) -->
    <field name="label"
	   type="text_ws"
	   indexed="true"
	   stored="true"
	   required="true" />
    <!-- Both. (term.name|gp.full_name) -->
    <field name="descriptive_name"
   	   type="text_ws"
   	   indexed="true"
   	   stored="true"
   	   required="false" />
    <!-- Both. (term_synonym|gene_product_synonym) -->
    <field name="synonym"
	   type="string"
	   indexed="true"
	   stored="true"
	   multiValued="true"
	   required="false" />
    <!-- Both. (term.term_type|gp type) -->
    <field name="type"
	   type="string"
	   indexed="true"
	   stored="true"
	   required="false" /> <!-- TODO: make it true when this field is implemented in the OboOwlApiProcssor.java class -->
    <!-- Both. (term.term_type|gp.db) -->
    <field name="source"
	   type="string"
	   indexed="true"
	   stored="true"
	   required="false" /> <!-- TODO: make it true when this field is implemented in the OboOwlApiProcssor.java class -->
    <!-- Both. (BUG: not implemented) -->
    <field name="date"
	   type="string"
	   indexed="true"
	   stored="true"
	   required="false" />
    <!-- Both. (term_synonym.acc_synonym|BUG: not implemented for gp) -->
    <field name="alternate_id"
	   type="string"
	   indexed="true"
	   stored="true"
	   multiValued="true"
 	   required="false" />
    <!-- Both. (term def|gp def (NOTE: not there yet)) -->
    <field name="description"
	   type="text_ws"
	   indexed="true"
	   stored="true"
	   required="false" />
    <!-- Term. (term->term_subset->term.name) -->
    <field name="subset"
	   type="string"
	   indexed="true"
	   stored="true"
	   multiValued="true"
	   required="false" />
    <!-- Term. (term.is_obsolete) -->
    <field name="is_obsolete"
	   type="integer"
	   indexed="true"
	   stored="true"
	   required="false" />
    <!-- Term. (term comment) -->
    <field name="comment"
	   type="text_ws"
	   indexed="true"
	   stored="true"
	   required="false" />
    <!-- Term. (all graph ancestors) -->
    <field name="term_closure"
	   type="string"
	   indexed="true"
	   stored="true"
	   multiValued="true"
	   required="false" />
    <!-- GP (both eventually). (species.ncbi_taxa_id) -->
    <field name="taxon"
	   type="string"
	   indexed="true"
	   stored="true"
	   required="false" />
    <!-- GP (both eventually). (NOTE: closure of above to be implemented) -->
    <field name="taxon_closure"
	   type="string"
	   indexed="true"
	   stored="true"
	   multiValued="true"
	   required="false" />
    <!-- GP. (direct terms associatied with GP - will be changed (testing)) -->
    <field name="direct_annotation"
	   type="string"
	   indexed="true"
	   stored="true"
	   multiValued="true"
	   required="false" />
    <!-- GP. (all terms associatied with GP - will be changed (testing)) -->
    <field name="annotation_closure"
	   type="string"
	   indexed="true"
	   stored="true"
	   multiValued="true"
	   required="false" />
  </fields>

  <uniqueKey>id</uniqueKey>

  <defaultSearchField>descriptive_name</defaultSearchField>

  <solrQueryParser defaultOperator="OR"/>

</schema>
