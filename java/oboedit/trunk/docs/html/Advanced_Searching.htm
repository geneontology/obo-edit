<!DOCTYPE html PUBLIC "-//W3C//DTD html 3.2//EN">
<html>
<head>
  <title>Advanced Searching</title>
<link rel="stylesheet" type="text/css" href="../javahelp.css">
</head>
<body bgcolor="#ffffff">
<h1>Advanced Searching</h1>
<p>
The Search Panel interface allows the user to do compound
searches. A simple search with only one criterion looks like this:</p><p>
<img src="search/simple-search.png" alt=""></p><p>
As you start typing into the search box, a dropdown list of matching terms appears:</p><p>
<img src="search/development-dropdown.png" alt=""></p><p>
The dropdown menus provide a range of options for searching. </p><p>
The first menu on the left allows you to choose whether the terms found
will have, or not have, the criterion described:</p><p>
<img src="search/Picture%205.png" alt=""></p><p>
The next menu allows you to choose which field or fields will be
searched:</p><p>
<img src="search/Picture%2034.png" alt=""></p><p>
The menu on the right allows you to choose how the contents of the
field will relate to the search string. </p><p>
<img src="search/Picture%2010.png" alt=""></p><p>
This button <img src="search/gear-icon.png" alt=""> allows you to choose
whether the search string will find a match to a given term itself, or
to the ancestor, descendant, parent, child, or root of the term found:</p><p>
<img src="search/aspect-menu.png" alt=""></p><p>
Note that "ancestor" and "descendant" appear on the menu
only if you have the <a href="The_Reasoner_Manager.htm">Reasoner</a> turned on, because they require reasoning.
If the Reasoner is off, you won't see those options on the list. </p><p>
You can add further criteria by clicking 
<img src="search/Picture%2017.png" alt=""></p><p>
This produces a new section with the same set of dropdown menus and fields
to fill in another search string:</p><p>
<img src="search/development-and-R.png" alt=""></p><p>
To delete this line again click 
<img src="search/Picture%2020.png" alt="">.</p><p>
Once we have more than one row like this we can make AND/OR queries
using this control:</p><p>
<img src="search/Picture%2025.png" alt=""></p><p>
In the above compound query you can see that we are searching for terms
that match both criteria (an 'AND' query), as the 'matches all' radio button
is selected. If the 'matches any' radio button was selected instead,
then we would find all terms that matches either one OR the other criterion,
or both ('OR' query). </p>

<h2>Subqueries</h2>
<p>
You can add further layers of complexity by
using the&nbsp; <img src="search/Picture%2017.png" alt=""> and <img
 src="search/Picture%2020.png" alt=""> buttons. </p><p>
For example, suppose we want to find all terms that have a name that contains the
word 'development', in addition to having either the string 'R6' in the
name field, or the string 'R8' in any text field. </p><p>
<img src="search/development-R6-R8.png" alt=""></p><p>
There can be many levels in the search query:</p><p>
<img src="search/multi-level.png" alt=""></p><p>
To move any individual criterion in the search into or out of a given
level of nesting, use the&nbsp; <img src="search/Picture%2023.png" alt=""> and <img
 src="search/Picture%2019.png" alt=""> buttons.</p>

<H2>How Compound Filters Are Matched -- Speeding Up Your Searches</H2>
<P>Compound filters are matched by evaluating whether their constituent filters 
match.</P>
<P>Constituent filters are matched in the order they were specified. The 
evaluation stops if the value of the compound filter can be determined, even if 
all the constituent filters have not been checked. For example, if the boolean 
operation is AND and one of the constituent filters doesn't match, the 
evaluation stops and the entire compound filter announces that it doesn't match 
(because if even one term of an AND expression is false, the whole expression is 
false). Similarly, if the boolean operation is OR and a constituent filter 
matches, the evaluation stops and the entire compound filter announces that it 
matches (if even one term of an OR expression is true, the whole expression is 
true).</P>
<P>To improve search speed, therefore, <STRONG>when constructing a compound filter, put 
filters that can be evaluated quickly FIRST. </STRONG>For example, it takes a long time to do any search with 
an "Ancestor" or "Descendant" search aspect, because all the descendants or 
ancestors of every term in the ontology have to be calculated. So add any 
filters that use an ancestor or descendant last, and add quickly evaluated filters 
first. That way slow filters don't have to be evaluated unless absolutely 
necessary, and the whole filtering operation will work more 
quickly.</P>

<h2>Does My Query Match the Term I Selected?</h2>
<p>
If you check <img src="search/indicate-if-selected-term-matches-filter.png" alt="Indicate if selected term
matches filter"> at the bottom of the search panel, a lightbulb <img
 src="search/bulb_off.png" alt="lightbulb"> icon appears in the search panel.
You can now select terms in the Ontology Tree Editor, and see what happens to
the lightbulb. If the term you've selected
fits the search criterion or criteria you've set up, the lightbulb turns yellow: <img src="search/bulb_on.png" alt="">.
If the term does not match then the lightbulb stays gray.
</p>

<h2>Results</h2>
<p>The results of a query are displayed in a list.  If you have not selected the
"Exclude obsolete terms from search results" in
the <a href="Configuration_manager.htm">Configuration Manager</a>, then
obsolete terms that match your query will be included in the result list
but shown in red and crossed out:</p><p>
<img src="search/search-results.png" alt=""></p><p>
To select a terms of interest in the Ontology Editor Panel you can just
click on the term in the search results list. </p><p>
If you have performed multiple searches then you can scroll through the
various tabs using the left and right arrows, or see a vertical list of search
tabs by using the button to the right of the arrows:</p><p>
<img src="search/Picture%2033.png" alt=""></p><p></p>
<h1>Link Search</h1>
<p>
The link search panel ([Search] -> [Link Search]) allows you to search by relationship criteria rather
than text fields in the terms. </p><p>
The interface looks very similar to term search, but has some
differences in the options:</p><p>
<img src="search/link-search-panel.png" alt=""></p><p>
<img src="search/find-links-where.png" alt=""></p><p>
<img src="search/links-that-have.png" alt=""></p><p>
(Is redundant - Allows you to search for redundant links in the
ontology, which you can then delete.) </p><p></p>

</body>
</html>
