<!DOCTYPE html PUBLIC "-//W3C//DTD html 3.2//EN">
<html>
<head>
<meta name="GENERATOR" content="Solutionsoft HelpBreeze JavaHelp Edition">
<title>Merging</title>
<link rel="stylesheet" type="text/css" href="../javahelp.css">
</head>
<body bgcolor="#ffffff">
<h1>Merging</h1>
<div class="tabbed">
<p><strong>Works by</strong>: Drag and drop, right-click</p>
<p><strong>Hot keys</strong>: Command-M</p>
<p><strong>Source requirements</strong>: Exactly one source term required</p>
<p><strong>Target requirement</strong>: One target required</p>
</div>
<p>It is possible to merge two concepts into one. When term A is merged into 
term B, the following things happen:</p>
<ul>
  <li>A's id is assigned as an alternate id of B 
  <li>All of A's synonyms are copied to B 
  <li>All of A's dbxrefs are copied to B
  <li>A &amp; B's comments are merged (see <A 
  href="#merging_comments_and_defs">Merging Comments &amp; Definitions</a>          )
  <li>A &amp; B's definitions are merged (see <A 
  href="#merging_comments_and_defs">Merging Comments &amp; Definitions</a> )
  <LI>A's name is assigned as an exact&nbsp;synonym of          B. 
  <li>All of A's parents become parents of B (see <A 
  href="#caveats">Caveats</a>       ) 
  <li>All of A's children become parents of B (see <A 
  href="#caveats">Caveats</a>       ) 
  <li>All of A's parent relationships&nbsp;are <A 
  href="Deleting.htm">deleted</a>
  <li>All of A's child relationships are <A href="Deleting.htm">deleted</a>
  <li>A is <A href="Destroying.htm">destroyed</a>&nbsp;(see <A 
  href="#caveats">caveats</a>)</li></ul>
<p>It is impossible to create a cycle by merging, because any potentially cyclic 
links are not copied to the target term. See <A href="#caveats">caveats</a> for 
potential pitfalls of this behavior.</p>
<p>To merge two terms, select the source term you would 
like to merge (if a term appears in the ontology editor panel multiple times because 
of multiple parentage, it does not matter which one you choose). Indicate the 
target term by right-clicking or drag and drop. </p>
<p>Choose "Merge" from the right-click menu or drag and drop popup menu. The 
terms will be merged.</p>
<h2>Merging Comments &amp; Definitions</h2>
<p>When two terms are merged, the source term's comments are 
merged with the target term's comments, and the source term's definition is 
merged with the target term's definition. When merging comments and definitions, 
the following rules are used:</p>
<UL>
  <LI>If both the source term &amp; target term have a blank comment or 
  definition, the merged term's comment or definition is left blank.</LI>
  <LI>If the source term's comment or definition is blank, the target term's 
  comment or definition is used</LI>
  <LI>If the target term's comment or definition is blank, the source term's 
  comment or definition is used</LI>
  <LI>If both the source and target term have a comment or definition defined, 
  the comment or definition of both the source and target term are concatenated 
  together. This concatenated comment or definition becomes the comment or 
  definition for the merged term.</LI></UL>
<h2>Caveats<a name="caveats"></a></h2>
<ul>
  <li>When two terms are merged, only one "survives". The 
  other&nbsp;term's id only lives on as a secondary id.&nbsp;Therefore, it's 
  very important to consider which term should be the source term (the one that 
  is destroyed) and which is the target term (the one that lives on). 
  <li>Any term can be merged with any other term. However, 
  some merges could result in a horrible mess of cycles, because the merged term 
  gets all the parents and children of the source term&nbsp;(for example, if a 
  term was merged with a grandchild, a cycle is certain). Therefore, OBO-Edit will simply remove any cyclic links when 
  a merge occurs. Since potential cycles can be very hard for humans to detect, you may 
  be surprised that certain relationships from the source term have not 
  carried over to the merged term. Always check to make sure no critical links 
  have disappeared after a merge! (The good news: OBO-Edit will never delete 
  a link from the target term; it will only choose to not copy some 
  links from the source term).</li></ul>

<div class="sidebar">
<h1>Diagnosing Disappearing Links</h1>
<hr>
<p>You merged two terms, but OBO-Edit keeps refusing to 
copy a certain link from the source term! You hit undo, but you can figure out what's going on! Here's a technique to figure out why OBO-Edit is&nbsp;discarding a link when you merge...</p>
<p>First, do a search for all the&nbsp;descendants of your target term, and 
leave the search results on screen. Then, do a search for all the ancestors of 
your target term, and leave those results on screen too. Now look at the parents 
and children of the source term using the ontology editor panel and the parent 
plugin. If any <em>child</em> of the source term is an <em>ancestor</em> of the 
target term, that link will be discarded. If any <em>parent</em> of the source 
term is a <em>descendant</em> of the target term, that link will be 
discarded.</p>
<p>Once you've verified that OBO-Edit is right about the potential cycle, use 
the DAG Viewer to figure out how the potentially cyclic term connects to the 
source term. There's probably one or two links that you need to delete somewhere 
to disconnect the source term from the potentially cyclic term before you can 
merge.</p>
</div>

<p>&nbsp;</p>
<h2>Hotkeys</h2>
<p>Hold down the "Command" and "M" keys while dragging to specify the 
"Merge" operation. The toolbar will show "Current drag and drop
behavior: Merge [Command]+M" and the title above the dragged terms
will change from "Dragging..." to "Merge...":</p>
<p><IMG height=43 hspace=0 src="../images/merge_hotkey_drag.gif" width=79 
border=0></p>
<p>When the term is dropped, the source and target term 
will be merged automatically.</p>
</body>
</html>