<!DOCTYPE html PUBLIC "-//W3C//DTD html 3.2//EN">
<html>
<head>
<meta name="GENERATOR" content="Solutionsoft HelpBreeze JavaHelp Edition">
<title>The ID Manager</title>
<link rel="stylesheet" type="text/css" href="../javahelp.css">
</head>
<body bgcolor="#ffffff">
<h1>The ID Manager</h1>
<h2>Overview - ID Generation Profiles</h2>
<p>The ID Manager controls ID generation through the use of <strong>ID 
generation profiles</strong>.</p>
<p>An&nbsp;ID generation profile is a collection of ID generation rules, each of 
which may be used depending on where the new term is created in the ontology. 
Only one ID profile is in use at any given time. This profile is called the 
<strong>active profile</strong>.</p>
<p>ID generation profiles may contain zero or more <strong>conditional 
rules</strong>. Each of these rules is associated with a <A 
href="Filters.htm">filter</a>&nbsp;that specifies when a given conditional rule 
should be used.</p>
<p>When a new term is created, OBO-Edit looks at the parent term under which the 
new term was created. That parent term is checked against the rule filters in 
the active ID generation profile. If the parent term matches a filter, the 
associated ID generation rule is used.</p>
<p>If no conditional rule matches the parent term, or if 
there is no parent term (for example, if a new root was created), the 
<strong>default rule</strong> is used. Every ID generation profile <em>must</em>     specify a default 
rule.</p>
<h2>ID Generation Rules</h2>
<p>ID Generation rules are character strings that contain some combination of 
<strong>character literals</strong> and <strong>variables</strong>.</p>
<h3>Character Literals</h3>
<p>Character literals are text characters that will appear, unaltered, when an 
ID is generated. An ID generation rule can, in theory, consist entirely of 
character literals, such as:</p>
<code><br>
OBO:SINGLE_ID
<br>
</code>
<p>When a new term is created using this rule, it will be 
given the ID <em>OBO:SINGLE_ID</em>. The limitations of this kind of rule become 
immediately apparent: you can only generate a single ID from this rule. The next 
time a user tries to create a term from this rule, the term creation operation 
will fail, because the ID generation rule cannot create an ID that is not 
already in use.</p>
<p>To avoid this problem, we need:</p>
<h3>Variables</h3>
<p>Variables are special sequences (enclosed in $&nbsp;characters) in the ID 
generation rule that will be replaced with some other value when a new ID is 
generated.</p>
<p>The most important rule variable is <strong>$sequence$</strong>. $sequence$ 
is replaced by a numeric sequence of a fixed length (the default is 7 
characters). Because this is a fixed length sequence, low numbered values will 
often be preceded by a number of zeros.</p>
<p>When a new ID is generated, OBO-Edit will replace the $sequence$ variable 
with the numerically smallest possible value that is not in use.</p>
<p>For example, let's say our ontology consists of 4 terms with the following IDs:</p>
<ul>
  <li>OBO:0000000-A 
  <li>OBO:0000001-A 
  <li>OBO:0000004-A 
  <li>OBO:0000002</li></ul>
<p>If&nbsp;the ID generation rule is:</p>
<code><br>OBO:$sequence$-A <br></code>
<p>the next ID OBO-Edit will generate is "OBO:0000002-A". 
OBO-Edit chooses this ID because "OBO:0000000-A" and "OBO:0000001-A"<br>are 
already in use. The fact that "OBO:0000002" is in use doesn't matter; since our 
ID generation rule specifies a "-A" suffix, the IDs don't conflict.</p>
<h4>Variable Parameters</h4>
<p>The replacement behavior of some variables can be configured. This 
configuration is done through the use of <strong>variable parameters</strong>. 
Variable parameters are specified in parentheses after the variable name.</p>
<p>The sequence variable, for example, allows three parameters:</p>
<code><br>
$sequence(<i>length</i>, <i>min_value</i>, <i>max_value</i>)$
<br></code>
<ul>
  <li><strong>length</strong> - A number 
  specifying the number of characters in the generated sequence. <em>Default 
  value: 7</em>
  <li><strong>min_value</strong> - A 
  number specifying the minimum numeric value of the generated sequence. 
  <em>Default value: 0</em>
  <li><strong>max_value</strong> - A 
  number specifying the maximum numeric value of the generated sequence.<em> 
  Default value: infinity</em>         
     </li></ul>
<p>Let's say our ID generation rule is:</p>
<code><br>
  OBO:$sequence(7,4,9999999)$-A
<br></code>
<p>If we used this rule with the example ontology described 
above, the next ID OBO-Edit would generate is "OBO:0000005-A", because OBO-Edit 
generates a sequence with a minimum value of 4. Since "OBO:0000004-A" is already 
in use, OBO-Edit generates "OBO:0000005-A".</p>
<p>If the rule were:</p>
<code><br>OBO:$sequence(2,4,9999999)$-A<br></code>
<p>OBO-Edit would generate "OBO:04-A".</p>
<p>Parameters are always optional. If a parameter is not specified, OBO-Edit 
will use the default value for the parameter. Therefore, the following rules are 
all equivalent:</p>
<ul>
  <li>OBO:$sequence$-A 
  <li>OBO:$sequence()$-A 
  <li>OBO:$sequence(7)$-A 
  <li>OBO:$sequence(7, 0)$-A 
  <li>OBO:$sequence(7, 0, 9999999)$-A</li></ul>
<h4>Other Variables</h4>
<p>At the moment, there is only one variable besides $sequence$ (although in the 
future others will probably be added). The other variable is called 
<strong>$id$</strong>.</p>
<p>$id$ is replaced with the ID of the parent term. In theory, this makes it 
possible to build recursive IDs that contain information about the parentage of 
a term.</p>
<p><em><strong>This is a really, really&nbsp;bad idea.</strong></em> IDs should 
not encode any information about the structure of an ontology. Remember, IDs 
cannot be modified once they are created. If ontology structure is encoded into 
IDs, there is no way to fix the IDs if there is some rearrangement of the 
ontology later; either the encoding scheme must be broken, or large parts of the 
ontology must be obsoleted and recreated.</p>
<p>This variable is only included here because some ontologies require it for 
historical reasons. If you are creating a new ontology, do not use it!</p>
<h2>Using the ID Manager<a 
name="editing_profiles"></a>    </h2>
<p>The ID Manager is used to edit ID profiles, and to select 
the&nbsp;active ID profile:</p>
<p><IMG hspace=0 src="../images/id_manager.png" border=0></p>
<p>The pulldown list shows all available ID 
Generation Profiles. When an ID generation profile is selected, it becomes the active ID 
profile, and its rules are used to generate IDs for new terms.</p>
<p>The next control to the right is the configuration button. Press this button 
to edit the currently selected profile. See <A href="#editing_profiles">Editing 
ID Profiles</a> for details.</p>
<p>The + button creates a new ID profile named "&lt;new id profile&gt;". The new 
profile can be modified using the configuration button.</p>
<p>The&nbsp;- button deletes the currently selected profile. There must be at 
one ID profile in existence, so it is not possible to delete the last ID 
profile. If there is only one ID profile, a new ID profile must be created 
before that profile can be deleted.</p>
<h2>Editing ID Profiles</h2>
<p>When the configuration button is pressed, the ID profile editor appears:</p>
<p><IMG hspace=0 src="../images/id_manager_editor.png" border=0></p>
<p>The topmost box contains the profile name. This name is 
used in the display, but doesn't affect what the profile does.</p>
<p>The next text box contains the default ID rule.</p>
<p>The bottom most component is a list of conditional ID generation rules.</p>
<p>To add a new conditional ID generation rule, press the "Add" button. A new 
rule will be generated with the rule "&lt;your rule&gt;".</p>
<p>To delete a conditional rule, left-click the rule to select it, and press the 
"Del" button to delete it.</p>
<p>To edit a conditional ID generation rule, left-click a rule to select it. The 
conditional rule editor will appear to the right:</p>
<p><IMG hspace=0 src="../images/conditional_rule_editor.png" border=0></p>
<p>At the top of the editor is a <A href="Term_Filters.htm">term filter 
editor</a>. This defines the filter that is used to determine whether this 
conditional rule should be used.</p>
<p>At the bottom is a text box that contains the actual ID generation rule to be 
used when this conditional rule applies.</p>
<p>                
     &nbsp;</p>
<h2>                
    Worked example:</h2>
<h2>         How to set up multiple profiles for 
use in a single editing session</h2>
<P>This example shows how two profiles can be set up so that if a term is added 
as a descendant of the term JD:1 then one set of IDs will be used, whilst if a 
GO term from any of the three GO ontologies is added then another ID rule will 
be followed. </P>
<P>In the ID Manager interface two new profiles are made. 'GO terms' will hold 
the rule for adding GO terms, and ''union terms' will hold the rule for adding 
terms that are descendants of JD:1.</P>
<P><IMG hspace=0 src="../images/multiple_id_profiles.png" border=0></P>
<P>In the GO terms profile (below)&nbsp;a filter is set up that will find only 
terms that are descendants of terms that have the namespace 'molecular 
function', biological process' or cellular component'. In the 'ID Rule' box at 
the bottom of the window a rule is added to show the kind of IDs that will be 
creates when one of these terms is made. Note that the 'Default rule' box at the 
top of the window is left blank.</P>

<p><IMG hspace=0 src="../images/id_for_go_terms.png" border=0></p>
<P>In the 'union terms' profile (below)&nbsp;a filter is set up so that when a 
new term is created as descendant of JD:1 the term's ID will follow the rule 
shown in the 'ID Rule' box at the bottom of the window. Note that, again, the 
'Default rule' box is left blank. </P>
<P><IMG hspace=0 src="../images/id_for_non_go_terms.png" border=0></P>
<P>Now that these two profiles have been set up, new terms can be created, and 
the rules will be applied. A GO term will have an ID as below:</P>
<p><IMG hspace=0 src="../images/new_go_term.png" border=0></p>
<P>A term that is a descendant of JD:1 will have an ID as below. </P>
<p><IMG hspace=0 src="../images/new_non_go_term.png" border=0></p>
</body>
</html>
