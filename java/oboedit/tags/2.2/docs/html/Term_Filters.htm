<!DOCTYPE html PUBLIC "-//W3C//DTD html 3.2//EN">
<html>
<head>
<meta name="GENERATOR" content="Solutionsoft HelpBreeze JavaHelp Edition">
<title>Term Filters</title>
<link rel="stylesheet" type="text/css" href="../javahelp.css">
</head>
<body bgcolor="#ffffff">
<h1>Term Filters</h1>
<p>Term filters are used to select specific classes, relations, or
instances from an ontology. As described in <a
href="Building_a_Filter.htm">Building Filters</a>, the attribute,
value, comparison, and aspect for a filter are specified in the Term
Filtering panel (aka Search Panel):
</p>
<p><IMG hspace=0 src="../images/filter_term_standard.png" alt="filtering image" border=0></p>
<p>You can open the main filtering control with [Search] -> [Search
Panel]. In some components, such as the Ontology Tree Editor and the
Graph Editor, you can apply a filter in the component configuration
panel (see <a href="Components.htm">Components</a> for more
information).</p>
<p>The search interface supports simple and compound queries. A simple
search with only one criterion looks like this:</p><p> <img
src="../images/simple_search.png" alt=""></p>
<p>
This search finds only terms where the name exactly matches 'development'. </p>
<p>
The text field, where you type the value, provides an autocompletion feature:</p>
<p>
<img src="../images/search_autocomplete.png" alt=""></p>
<p>Clicking on any of the suggested terms will automatically fill it
into the text box.</p>
<p>Use the dropdown menus to choose whether to find terms that do
(have) or do not (don't have) match the filter criteria, and to select
the attribute and comparison. Click the <img
src="../images/show_aspect_button.png" alt=""> button to show the aspect
selector (when the aspect dropdown is showing, click <img
src="../images/hide_aspect_button.png" alt=""> to hide it). See <a
href="Building_a_Filter.htm">Building Filters</a> for explanations of
the aspect, attribute, and comparison options.
</p>
<h2>Compound Filters</h2>
<p>Simple queries such as the above example can be combined to perform
complex searches using multiple criteria, subqueries, etc. To add a
new criterion to a search, click the <img
src="../images/plus.png" alt=""> button in the lower left
corner. A new set of dropdown menus and a new text box will appear:
</p>
<p><img src="../images/two_search_criteria.png" alt=""></p>
<p>Click <img src="../images/minus.png" alt=""> to delete a line
from the query.</p>
<p>When you have more than one search row, two more buttons appear,
allowing you to perform AND or OR queries:</p>
<img src="../images/matches.png" alt=""></p>
<p>In the example above, "Matches all" is selected, so the query will
find terms that match both criteria (equivalent to Boolean AND). If
"Matches any" were selected, the query would find any terms that match
either criterion (Boolean OR).
</p>
<h3>Subqueries</h3>

<p>To create a subquery, add a search criterion as above, then click
the <img src="../images/indent.png" alt=""> button to indent the
line for that criterion. Any additional criteria you add using the
<img src="../images/plus.png" alt=""> button will appear at the
same level of indentation; to move a criterion out a level, use the
<img src="../images/outdent.png" alt=""> button.</p>

<p>For example, if you want to query for terms that have 'development'
in the name, and either 'R6' in the name or 'R8', set up this query:
</p>

<p><img src="../images/compound_query_example1.png" alt=""></p>
<p>Step-by-step instructions to construct this query:
<ul>
 <li>Set up a simple search for terms that [have] a [Name] that
 [contains] 'development'.
 <li>Click <img src="../images/plus.png" alt=""> to add the
 second set of criteria: [have] a [Name] that [contains] 'R6'.
 <li>Click <img src="../images/indent.png" alt=""> to indent the
 second line, then click <img src="../images/plus.png" alt=""> to
 add the third line ([have] a [Name] that [contains] 'R8').
 <li>Select the "Matches any" radio button in the subquery.
</ul>

<p>You can also move existing query elements by dragging and dropping
using the vertical blue bar at the left-hand edge of each criterion
line.</p>
<p>Very complex queries with multiple levels of nesting can be created, e.g.:
</p>
<p><img src="../images/compound_query_example2.png" alt=""></p>


<h2>How Compound Filters Are Matched: Speeding Up Your Searches</h2>

<p>Compound filters are matched by evaluating whether their
constituent filters match.</p>
<p>Constituent filters are matched in the order they were
specified. The evaluation stops if the value of the compound filter
can be determined, even if all the constituent filters have not been
checked. For example, if the boolean operation is AND and one of the
constituent filters doesn't match, the evaluation stops and the entire
compound filter announces that it doesn't match (because if even one
term of an AND expression is false, the whole expression is
false). Similarly, if the boolean operation is OR and a constituent
filter matches, the evaluation stops and the entire compound filter
announces that it matches (if even one term of an OR expression is
true, the whole expression is true).</p>
<p>Therefore: <strong>When constructing a compound filter, put filters
that can be evaluated quickly FIRST. </strong>For example, it takes a
long time to do any search with an "Ancestor" or "Descendant" search
aspect, because all the descendants or ancestors of every term in the
ontology have to be calculated. So add any filters that use an
ancestor or descendant last, and add quickly evaluated filters
first. That way slow filters don't have to be evaluated unless
absolutely necessary, and the whole filtering operation will work more
quickly.</p>

<h2>Debugging Queries</h2>

<p>The query debugging system can be useful for constructing queries
 that find the desired set of terms, and for tracking down why a
 particular filter does or doesn't match a given term.
If the term(s) selected in the ontology editor panel fit(s) the
criterion next to the lightbulb icon, the icon turns yellow <img
src="../images/lit_lightbulb.png" alt="">; if the term does not match, the
lightbulb stays gray
<img src="../images/dim_lightbulb.png" alt="">
 as in the Synonym filter below:</p>
<p><img src="../images/query_debug_example.png" alt=""></p>


<h2>Results</h2>

<p>The results of a query are displayed in a list; if any obsolete
terms match, they are shown in red strikethrough:</p>

<p><img src="../images/search_results.png" alt=""></p>

<p>To select a term of interest in an Ontology Tree Editor (in global
selection mode) you can just click on the term in the search results
list. </p>

<p>If you have performed multiple searches, you can scroll through the
various search result tabs using the left and right arrow icons, or
click the down arrow to see a pulldown list of search result panels:</p>

<p><img src="../images/arrows.png" alt=""></p>

<p>Each search result panel is a component, and can be manipulated
independently like any other component panel.</p>

</body>
</html>
